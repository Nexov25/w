{"version":3,"file":"object-repository.js","sourceRoot":"/","sources":["Store/object-repository.ts"],"names":[],"mappings":";;;AAAA,MAAa,gBAAgB;IAG5B,YAAY,WAA8B,EAAE;QAC3C,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAA;IACnD,CAAC;IAED,QAAQ,CAAC,EAAU;QAClB,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;IAC9B,CAAC;IAED,OAAO;QACN,OAAO,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,CAAA;IAC3C,CAAC;IAED,UAAU,CAAC,EAAU,EAAE,MAAS;QAC/B,OAAO,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,oBAAO,MAAM,EAAG,CAAA;IAC7C,CAAC;IAED,UAAU,CAAC,EAAU;QACpB,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAA;IACjC,CAAC;IAED,KAAK;QACJ,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAA;IAC3B,CAAC;IAED,MAAM;QACL,OAAO,IAAI,CAAC,OAAO,EAAE,CAAA;IACtB,CAAC;CAED;AA/BD,4CA+BC","sourcesContent":["export class ObjectRepository<T extends object> {\n\treadonly entityMap: Map<string, T>\n\n\tconstructor(entities: Record<string, T> = {}) {\n\t\tthis.entityMap = new Map(Object.entries(entities))\n\t}\n\n\tfindById(id: string) {\n\t\treturn this.entityMap.get(id)\n\t}\n\n\tfindAll() {\n\t\treturn Array.from(this.entityMap.values())\n\t}\n\n\tupsertById(id: string, entity: T) {\n\t\treturn this.entityMap.set(id, { ...entity })\n\t}\n\n\tdeleteById(id: string) {\n\t\treturn this.entityMap.delete(id)\n\t}\n\n\tcount() {\n\t\treturn this.entityMap.size\n\t}\n\n\ttoJSON() {\n\t\treturn this.findAll()\n\t}\n\n}"]}