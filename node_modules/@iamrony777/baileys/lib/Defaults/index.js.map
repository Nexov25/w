{"version":3,"file":"index.js","sourceRoot":"/","sources":["Defaults/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { proto } from '../../WAProto'\nimport { makeLibSignalRepository } from '../Signal/libsignal'\nimport type { AuthenticationState, MediaType, SocketConfig, WAVersion } from '../Types'\nimport { Browsers } from '../Utils'\nimport logger from '../Utils/logger'\nimport { version } from './baileys-version.json'\nimport phoneNumberMCC from './phonenumber-mcc.json'\n\nexport const UNAUTHORIZED_CODES = [401, 403, 419]\n\nexport const PHONENUMBER_MCC = phoneNumberMCC\n\nexport const DEFAULT_ORIGIN = 'https://web.whatsapp.com'\nexport const MOBILE_ENDPOINT = 'g.whatsapp.net'\nexport const MOBILE_PORT = 443\nexport const DEF_CALLBACK_PREFIX = 'CB:'\nexport const DEF_TAG_PREFIX = 'TAG:'\nexport const PHONE_CONNECTION_CB = 'CB:Pong'\n\nexport const WA_DEFAULT_EPHEMERAL = 7 * 24 * 60 * 60\n\n\nexport const MOBILE_TOKEN = Buffer.from('0a1mLfGUIBVrMKF1RdvLI5lkRBvof6vn0fD2QRSM3d3683e76445591c0591bc3c034c3bca')\nexport const MOBILE_REGISTRATION_ENDPOINT = 'https://v.whatsapp.net/v2'\nexport const MOBILE_USERAGENT = 'WhatsApp/2.23.13.82 iOS/15.3.1 Device/Apple-iPhone_7'\nexport const REGISTRATION_PUBLIC_KEY = Buffer.from([\n\t5, 142, 140, 15, 116, 195, 235, 197, 215, 166, 134, 92, 108, 60, 132, 56, 86, 176, 97, 33, 204, 232, 234, 119, 77,\n\t34, 251, 111, 18, 37, 18, 48, 45,\n])\nexport const NOISE_MODE = 'Noise_XX_25519_AESGCM_SHA256\\0\\0\\0\\0'\nexport const DICT_VERSION = 2\nexport const KEY_BUNDLE_TYPE = Buffer.from([5])\nexport const NOISE_WA_HEADER = Buffer.from(\n\t[ 87, 65, 6, DICT_VERSION ]\n) // last is \"DICT_VERSION\"\nexport const PROTOCOL_VERSION = [5, 2]\nexport const MOBILE_NOISE_HEADER = Buffer.concat([Buffer.from('WA'), Buffer.from(PROTOCOL_VERSION)])\n/** from: https://stackoverflow.com/questions/3809401/what-is-a-good-regular-expression-to-match-a-url */\nexport const URL_REGEX = /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/\nexport const URL_EXCLUDE_REGEX = /.*@.*/\n\nexport const WA_CERT_DETAILS = {\n\tSERIAL: 0,\n}\n\nexport const PROCESSABLE_HISTORY_TYPES = [\n\tproto.Message.HistorySyncNotification.HistorySyncType.INITIAL_BOOTSTRAP,\n\tproto.Message.HistorySyncNotification.HistorySyncType.PUSH_NAME,\n\tproto.Message.HistorySyncNotification.HistorySyncType.RECENT,\n\tproto.Message.HistorySyncNotification.HistorySyncType.FULL\n]\n\nexport const DEFAULT_CONNECTION_CONFIG: SocketConfig = {\n\tversion: version as WAVersion,\n\tbrowser: Browsers.baileys('Chrome'),\n\twaWebSocketUrl: 'wss://web.whatsapp.com/ws/chat',\n\tconnectTimeoutMs: 20_000,\n\tkeepAliveIntervalMs: 30_000,\n\tlogger: logger.child({ class: 'baileys' }),\n\tprintQRInTerminal: false,\n\temitOwnEvents: true,\n\tdefaultQueryTimeoutMs: 60_000,\n\tcustomUploadHosts: [],\n\tretryRequestDelayMs: 250,\n\tfireInitQueries: true,\n\tauth: undefined as unknown as AuthenticationState,\n\tmarkOnlineOnConnect: true,\n\tsyncFullHistory: false,\n\tpatchMessageBeforeSending: msg => msg,\n\tshouldSyncHistoryMessage: () => true,\n\tshouldIgnoreJid: () => false,\n\tlinkPreviewImageThumbnailWidth: 192,\n\ttransactionOpts: { maxCommitRetries: 10, delayBetweenTriesMs: 3000 },\n\tgenerateHighQualityLinkPreview: false,\n\toptions: { },\n\tappStateMacVerification: {\n\t\tpatch: false,\n\t\tsnapshot: false,\n\t},\n\tgetMessage: async() => undefined,\n\tmakeSignalRepository: makeLibSignalRepository\n}\n\nexport const MEDIA_PATH_MAP: { [T in MediaType]?: string } = {\n\timage: '/mms/image',\n\tvideo: '/mms/video',\n\tdocument: '/mms/document',\n\taudio: '/mms/audio',\n\tsticker: '/mms/image',\n\t'thumbnail-link': '/mms/image',\n\t'product-catalog-image': '/product/image',\n\t'md-app-state': '',\n\t'md-msg-hist': '/mms/md-app-state',\n}\n\nexport const MEDIA_HKDF_KEY_MAPPING = {\n\t'audio': 'Audio',\n\t'document': 'Document',\n\t'gif': 'Video',\n\t'image': 'Image',\n\t'ppic': '',\n\t'product': 'Image',\n\t'ptt': 'Audio',\n\t'sticker': 'Image',\n\t'video': 'Video',\n\t'thumbnail-document': 'Document Thumbnail',\n\t'thumbnail-image': 'Image Thumbnail',\n\t'thumbnail-video': 'Video Thumbnail',\n\t'thumbnail-link': 'Link Thumbnail',\n\t'md-msg-hist': 'History',\n\t'md-app-state': 'App State',\n\t'product-catalog-image': '',\n\t'payment-bg-image': 'Payment Background',\n\t'ptv': 'Video'\n}\n\nexport const MEDIA_KEYS = Object.keys(MEDIA_PATH_MAP) as MediaType[]\n\nexport const MIN_PREKEY_COUNT = 5\n\nexport const INITIAL_PREKEY_COUNT = 30\n\nexport const DEFAULT_CACHE_TTLS = {\n\tSIGNAL_STORE: 5 * 60, // 5 minutes\n\tMSG_RETRY: 60 * 60, // 1 hour\n\tCALL_OFFER: 5 * 60, // 5 minutes\n\tUSER_DEVICES: 5 * 60, // 5 minutes\n}\n"]}